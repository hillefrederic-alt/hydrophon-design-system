---
phase: 05-feedback-a-system-responses
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - design-system/tokens/feedback.json
  - design-system/docs/feedback/tooltip.md
  - design-system/docs/feedback/toast.md
autonomous: true

must_haves:
  truths:
    - "Developer can implement hover-triggered tooltips with 300ms delay"
    - "Tooltips have smart positioning that avoids viewport edges"
    - "Toast notifications appear top-right with severity-based timing"
    - "Error toasts stay until manually dismissed"
    - "Toasts can include action buttons (Undo, Retry)"
  artifacts:
    - path: "design-system/tokens/feedback.json"
      provides: "Tooltip and toast tokens (timing, colors, positioning)"
      contains: "tooltip"
    - path: "design-system/docs/feedback/tooltip.md"
      provides: "Tooltip documentation in German"
      min_lines: 250
    - path: "design-system/docs/feedback/toast.md"
      provides: "Toast notification documentation in German"
      min_lines: 350
  key_links:
    - from: "design-system/docs/feedback/tooltip.md"
      to: "design-system/tokens/feedback.json"
      via: "Token references"
      pattern: "--tooltip"
    - from: "design-system/docs/feedback/toast.md"
      to: "design-system/tokens/feedback.json"
      via: "Token references"
      pattern: "--toast"
---

<objective>
Create tooltip and toast notification token systems with comprehensive German documentation covering hover behavior, positioning, timing, and accessibility.

Purpose: Tooltips provide contextual labels for icons/buttons. Toasts confirm actions and communicate system states. Together they form the core notification layer of the design system.

Output: Tooltip and toast tokens in feedback.json, separate documentation files for each component
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-feedback-a-system-responses/05-CONTEXT.md
@.planning/phases/05-feedback-a-system-responses/05-RESEARCH.md
@design-system/tokens/colors.json
@design-system/docs/buttons.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add tooltip and toast tokens to feedback.json</name>
  <files>design-system/tokens/feedback.json</files>
  <action>
Extend feedback.json (created in 05-01) with tooltip and toast token sections. If 05-01 hasn't run yet, create the file with all sections.

Add tooltip tokens:
```json
{
  "tooltip": {
    "delay": { "$value": "300ms", "$type": "duration" },
    "background": { "$value": "{color.neutral.900}", "$type": "color" },
    "color": { "$value": "{color.neutral.white}", "$type": "color" },
    "font-size": { "$value": "{typography.body.sm.fontSize}", "$type": "dimension" },
    "padding": {
      "x": { "$value": "{spacing.2}", "$type": "dimension" },
      "y": { "$value": "{spacing.1}", "$type": "dimension" }
    },
    "border-radius": { "$value": "{radius.sm}", "$type": "dimension" },
    "max-width": { "$value": "200px", "$type": "dimension" },
    "arrow": {
      "size": { "$value": "6px", "$type": "dimension" }
    },
    "offset": { "$value": "5px", "$type": "dimension" },
    "z-index": { "$value": "1100", "$type": "number" },
    "animation": {
      "duration": { "$value": "150ms", "$type": "duration" }
    }
  }
}
```

Add toast tokens:
```json
{
  "toast": {
    "position": {
      "top": { "$value": "{spacing.4}", "$type": "dimension" },
      "right": { "$value": "{spacing.4}", "$type": "dimension" }
    },
    "width": { "$value": "360px", "$type": "dimension" },
    "max-width": { "$value": "calc(100vw - 32px)", "$type": "dimension" },
    "padding": {
      "x": { "$value": "{spacing.4}", "$type": "dimension" },
      "y": { "$value": "{spacing.3}", "$type": "dimension" }
    },
    "border-radius": { "$value": "{radius.lg}", "$type": "dimension" },
    "shadow": { "$value": "{shadow.lg}", "$type": "shadow" },
    "gap": { "$value": "{spacing.3}", "$type": "dimension" },
    "stack-gap": { "$value": "{spacing.2}", "$type": "dimension" },
    "max-visible": { "$value": "4", "$type": "number" },
    "z-index": { "$value": "1200", "$type": "number" },
    "duration": {
      "success": { "$value": "3000ms", "$type": "duration" },
      "info": { "$value": "4000ms", "$type": "duration" },
      "warning": { "$value": "5000ms", "$type": "duration" },
      "error": { "$value": "0ms", "$type": "duration", "$description": "Stays until dismissed" }
    },
    "animation": {
      "enter-duration": { "$value": "200ms", "$type": "duration" },
      "exit-duration": { "$value": "150ms", "$type": "duration" }
    },
    "variant": {
      "success": {
        "background": { "$value": "{color.success.50}", "$type": "color" },
        "border": { "$value": "{color.success.200}", "$type": "color" },
        "icon-color": { "$value": "{color.success.600}", "$type": "color" },
        "text-color": { "$value": "{color.success.800}", "$type": "color" }
      },
      "info": {
        "background": { "$value": "{color.info.50}", "$type": "color" },
        "border": { "$value": "{color.info.200}", "$type": "color" },
        "icon-color": { "$value": "{color.info.600}", "$type": "color" },
        "text-color": { "$value": "{color.info.800}", "$type": "color" }
      },
      "warning": {
        "background": { "$value": "{color.warning.50}", "$type": "color" },
        "border": { "$value": "{color.warning.200}", "$type": "color" },
        "icon-color": { "$value": "{color.warning.600}", "$type": "color" },
        "text-color": { "$value": "{color.warning.800}", "$type": "color" }
      },
      "error": {
        "background": { "$value": "{color.error.50}", "$type": "color" },
        "border": { "$value": "{color.error.200}", "$type": "color" },
        "icon-color": { "$value": "{color.error.600}", "$type": "color" },
        "text-color": { "$value": "{color.error.800}", "$type": "color" }
      }
    },
    "action": {
      "font-size": { "$value": "{typography.body.sm.fontSize}", "$type": "dimension" },
      "font-weight": { "$value": "{typography.fontWeight.medium}", "$type": "fontWeight" }
    },
    "close-button": {
      "size": { "$value": "24px", "$type": "dimension" },
      "icon-size": { "$value": "16px", "$type": "dimension" }
    }
  }
}
```

Use semantic color tokens (success, info, warning, error) from Phase 1 colors.json. Toast timing follows CONTEXT.md: 3s success, 4s info, 5s warning, error stays.
  </action>
  <verify>
Run Style Dictionary build: `cd design-system && npm run build`
Check CSS output includes --tooltip-* and --toast-* variables
Verify JSON is valid: `node -e "require('./design-system/tokens/feedback.json')"`
  </verify>
  <done>
feedback.json contains tooltip and toast tokens, Style Dictionary builds successfully, CSS variables generated for both components
  </done>
</task>

<task type="auto">
  <name>Task 2: Create tooltip and toast documentation in German</name>
  <files>
    design-system/docs/feedback/tooltip.md
    design-system/docs/feedback/toast.md
  </files>
  <action>
Create two documentation files following established component doc patterns.

**tooltip.md** (250+ lines):
1. **Uebersicht** - What tooltips are, short labels only (1-5 words per CONTEXT.md)
2. **Verwendung** - When to use (icon buttons, truncated text), when NOT to use (critical info, mobile primary)
3. **Design-Token** - All tooltip tokens with CSS variable names
4. **Verhalten**
   - Hover trigger with 300ms delay (CONTEXT.md)
   - Preferred top position, smart flip (CONTEXT.md)
   - Arrow/pointer indicator
5. **Positionierung** - Smart positioning logic with Floating UI recommendation
6. **Barrierefreiheit (WCAG 1.4.13)**
   - Content must be hoverable (user can move to tooltip)
   - Content must be dismissible
   - Content must be persistent
   - Keyboard focus triggers tooltip
7. **Code-Beispiele** - Radix UI Tooltip examples from RESEARCH.md
8. **Anti-Patterns**
   - Critical info in tooltips
   - Tooltips on disabled elements
   - Long text in tooltips

**toast.md** (350+ lines):
1. **Uebersicht** - Non-blocking feedback for completed actions
2. **Varianten** - Success, Info, Warning, Error with German examples
3. **Design-Token** - All toast tokens with CSS variable names
4. **Positionierung** - Top-right (CONTEXT.md), stacking behavior
5. **Timing**
   - Success: 3 Sekunden
   - Info: 4 Sekunden
   - Warnung: 5 Sekunden
   - Fehler: Bleibt bis geschlossen
6. **Aktions-Buttons** - Undo, Retry, View details patterns
7. **Stacking** - Max 4 visible, oldest dismissed first
8. **Barrierefreiheit**
   - role="status" for non-urgent (success, info)
   - role="alert" for urgent (warning, error)
   - Pause on hover/focus
   - Keyboard dismissible
9. **Code-Beispiele** - Sonner library examples from RESEARCH.md
10. **German Message Examples**
    - "Aenderungen gespeichert" (success)
    - "Neue Nachricht eingegangen" (info)
    - "Verbindung instabil" (warning)
    - "Fehler beim Speichern. Bitte erneut versuchen." (error)
11. **Anti-Patterns**
    - Auto-dismissing errors
    - Form validation in toasts (use inline)
    - Too many simultaneous toasts

All in German with proper umlauts in text (ae, oe, ue in headings for file compatibility).
  </action>
  <verify>
Files exist at design-system/docs/feedback/tooltip.md and toast.md
tooltip.md is at least 250 lines
toast.md is at least 350 lines
Both contain German content and token references
  </verify>
  <done>
Both documentation files complete with German language, all variants, accessibility requirements, Sonner/Radix recommendations, and message examples
  </done>
</task>

</tasks>

<verification>
1. feedback.json contains valid tooltip and toast tokens
2. Toast timing matches CONTEXT.md (3s/4s/5s/infinity)
3. Tooltip delay is 300ms per CONTEXT.md
4. Smart positioning documented for tooltips
5. Toast stacking behavior documented (max 4)
6. WCAG 1.4.13 requirements for tooltips documented
7. German message examples provided for all toast variants
</verification>

<success_criteria>
- Tooltip tokens complete with delay, positioning, styling
- Toast tokens complete with timing, variants, action buttons
- tooltip.md covers hover behavior, WCAG 1.4.13, smart positioning
- toast.md covers all variants, timing, stacking, German examples
- Radix UI and Sonner recommendations included per RESEARCH.md
</success_criteria>

<output>
After completion, create `.planning/phases/05-feedback-a-system-responses/05-02-SUMMARY.md`
</output>
