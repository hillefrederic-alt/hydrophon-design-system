---
phase: 07-final-packaging-a-delivery
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - design-system/package.json
  - design-system/scripts/build-pdf.js
  - design-system/styles/pdf-theme.css
  - design-system/dist/documentation/Hydrophon-Design-System-v1.0.0.pdf
autonomous: true
gap_closure: false

must_haves:
  truths:
    - "Marketing can reference brand guidelines from PDF document"
    - "PDF displays German text correctly (aeoeue√ü)"
    - "PDF has table of contents with working navigation"
    - "PDF is styled with Hydrophon branding"
  artifacts:
    - path: "design-system/dist/documentation/Hydrophon-Design-System-v1.0.0.pdf"
      provides: "Complete design system documentation in PDF format"
    - path: "design-system/scripts/build-pdf.js"
      provides: "Automated PDF generation script"
    - path: "design-system/styles/pdf-theme.css"
      provides: "Brand-styled PDF theme"
  key_links:
    - from: "design-system/scripts/build-pdf.js"
      to: "design-system/docs/**/*.md"
      via: "markdown file reading"
      pattern: "readFile.*docs.*\\.md"
---

<objective>
Generate professionally styled PDF documentation from the existing 26,658+ lines of German markdown documentation.

Purpose: Enable marketing teams and agencies to reference brand guidelines offline in a print-ready format that maintains Hydrophon branding.

Output:
- `dist/documentation/Hydrophon-Design-System-v1.0.0.pdf` - Complete design system documentation
- `scripts/build-pdf.js` - Reusable PDF generation script
- `styles/pdf-theme.css` - Hydrophon-branded PDF styling
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-final-packaging-a-delivery/07-RESEARCH.md

# Existing documentation structure
@design-system/docs/README.md
@design-system/package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install md-to-pdf and configure PDF build script</name>
  <files>
    - design-system/package.json
    - design-system/scripts/build-pdf.js
  </files>
  <action>
1. Install md-to-pdf as dev dependency:
   ```bash
   cd design-system && npm install --save-dev md-to-pdf
   ```

2. Create `design-system/scripts/build-pdf.js` with:
   - Import md-to-pdf and fs/promises
   - Define documentation order for logical PDF flow:
     1. README.md (introduction)
     2. 00-quick-start/marketing-onboarding.md
     3. colors.md, typography.md, spacing-grid.md, effects.md
     4. logo-guidelines.md
     5. icons.md, buttons.md
     6. forms/*.md (index first, then components)
     7. navigation/*.md (index first, then components)
     8. components/*.md
     9. feedback/*.md (index first, then components)
     10. 03-accessibility/*.md
     11. 04-technical-reference/*.md
     12. 05-audience-guides/*.md
   - Read all markdown files in defined order
   - Concatenate with page breaks (using `\n\n---\n\n` between major sections)
   - Configure md-to-pdf options:
     - format: 'A4'
     - margins: 30mm top/bottom, 25mm left/right
     - displayHeaderFooter: true
     - headerTemplate: 'Hydrophon Design System'
     - footerTemplate: page numbers
     - stylesheet: '../styles/pdf-theme.css'
   - Output to `dist/documentation/Hydrophon-Design-System-v1.0.0.pdf`

3. Add npm script to package.json:
   ```json
   "scripts": {
     "build:pdf": "node scripts/build-pdf.js"
   }
   ```

IMPORTANT: Use ESM syntax (import/export) since package.json has "type": "module"
  </action>
  <verify>
    - `npm run build:pdf` executes without errors
    - File `design-system/scripts/build-pdf.js` exists
    - package.json includes md-to-pdf dependency and build:pdf script
  </verify>
  <done>PDF build script is configured and npm script is available</done>
</task>

<task type="auto">
  <name>Task 2: Create Hydrophon-branded PDF theme CSS</name>
  <files>
    - design-system/styles/pdf-theme.css
  </files>
  <action>
1. Create `design-system/styles/` directory if not exists

2. Create `design-system/styles/pdf-theme.css` with Hydrophon branding:
   - @page rules for A4 sizing and margins
   - Body: Inter font family, 11pt font-size, 1.6 line-height, #333 color
   - h1: #008bd2 (Hydrophon Blau 500), 3px bottom border in same color, page-break-before: always
   - h2: #005a8c (Hydrophon Blau 700), 16pt size
   - h3: #333, 14pt size, margin-top: 1.5em
   - Code blocks: #f7f7f7 background, 4px left border in #008bd2, page-break-inside: avoid
   - Inline code: #f7f7f7 background, 2px 6px padding, 3px border-radius
   - Tables: page-break-inside: avoid, border-collapse, subtle borders
   - Links: #008bd2 color, no underline, hover underline
   - Blockquotes: left border in #e5e5e5, italic, for notes/warnings
   - Lists: proper indentation for nested items
   - Images: max-width: 100%, page-break-inside: avoid

3. Ensure UTF-8 encoding for German character support
  </action>
  <verify>
    - File `design-system/styles/pdf-theme.css` exists
    - CSS includes @page, body, h1-h6, code, table, and link styles
    - Colors match Hydrophon brand (#008bd2)
  </verify>
  <done>PDF theme CSS uses Hydrophon brand colors and professional typography</done>
</task>

<task type="auto">
  <name>Task 3: Generate PDF and verify German text rendering</name>
  <files>
    - design-system/dist/documentation/Hydrophon-Design-System-v1.0.0.pdf
  </files>
  <action>
1. Create output directory:
   ```bash
   mkdir -p design-system/dist/documentation
   ```

2. Run PDF generation:
   ```bash
   cd design-system && npm run build:pdf
   ```

3. Verify PDF was created and check file size (should be substantial given 26k+ lines of docs)

4. Test German character rendering by searching PDF content:
   - Create a simple verification: the PDF should contain German words like "aeoeue" (from Groessen, Uebersicht, etc.)
   - Check that the file is not corrupted (can be opened)

5. If PDF generation fails due to font issues:
   - Add fallback fonts to CSS: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif
   - Ensure lang: 'de-DE' in PDF metadata

Note: md-to-pdf uses headless Chrome which has full UTF-8/Unicode support, so German characters should render correctly.
  </action>
  <verify>
    - File `design-system/dist/documentation/Hydrophon-Design-System-v1.0.0.pdf` exists
    - File size is substantial (expect 500KB-2MB for 26k+ lines)
    - `npm run build:pdf` completes without errors
  </verify>
  <done>PDF is generated with correct German text rendering and Hydrophon branding</done>
</task>

</tasks>

<verification>
1. PDF file exists at `design-system/dist/documentation/Hydrophon-Design-System-v1.0.0.pdf`
2. PDF opens without errors
3. German characters (ae, oe, ue, ss) display correctly
4. Hydrophon Blau (#008bd2) is visible in headings
5. Build script is repeatable: `npm run build:pdf` regenerates PDF
</verification>

<success_criteria>
- Marketing can download and read PDF documentation offline
- PDF has professional appearance with Hydrophon branding
- German umlauts and eszett render correctly throughout
- PDF generation is automated via `npm run build:pdf`
- File is named with version number for tracking
</success_criteria>

<output>
After completion, create `.planning/phases/07-final-packaging-a-delivery/07-01-SUMMARY.md`
</output>
