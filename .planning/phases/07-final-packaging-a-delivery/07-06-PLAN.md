---
phase: 07-final-packaging-a-delivery
plan: 06
type: execute
wave: 2
depends_on: ["07-04"]
files_modified:
  - design-system/docs/06-distribution/figma-library-setup.md
  - design-system/figma/FIGMA-SETUP.md
  - design-system/figma/tokens-for-figma.json
autonomous: true
gap_closure: false

must_haves:
  truths:
    - "Designer can follow documented process to set up Figma library"
    - "Token values are available for Figma Variables import"
    - "Agency access patterns are documented"
    - "Component structure matches documentation"
  artifacts:
    - path: "design-system/docs/06-distribution/figma-library-setup.md"
      provides: "Complete Figma library creation guide"
    - path: "design-system/figma/FIGMA-SETUP.md"
      provides: "Step-by-step setup checklist"
    - path: "design-system/figma/tokens-for-figma.json"
      provides: "Figma Variables compatible token export"
  key_links:
    - from: "design-system/figma/tokens-for-figma.json"
      to: "design-system/tokens/*.json"
      via: "Token conversion"
      pattern: "Figma Variables"
---

<objective>
Create comprehensive Figma library setup documentation and token export for designers.

Purpose: Since Figma library publishing requires a paid plan and manual setup, provide detailed documentation enabling designers to create and maintain the Hydrophon Figma library themselves.

Output:
- `docs/06-distribution/figma-library-setup.md` - Complete library setup guide
- `figma/FIGMA-SETUP.md` - Quick setup checklist
- `figma/tokens-for-figma.json` - Token file ready for Figma Variables plugin import

Note: DEL-06 (Figma Library) cannot be fully automated as it requires:
1. Figma Professional/Organization plan
2. Manual component creation in Figma
3. Library publishing via Figma UI
This plan provides documentation and token export to enable designers to complete the setup.
</objective>

<execution_context>
@/Users/frederichille/.claude/get-shit-done/workflows/execute-plan.md
@/Users/frederichille/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-final-packaging-a-delivery/07-RESEARCH.md

# Token structure for Figma mapping
@design-system/tokens/colors.json
@design-system/tokens/typography.json
@design-system/tokens/spacing.json
@design-system/tokens/effects.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Figma-compatible token export</name>
  <files>
    - design-system/figma/tokens-for-figma.json
    - design-system/scripts/export-figma-tokens.js
    - design-system/package.json
  </files>
  <action>
1. Create figma directory:
   ```bash
   mkdir -p design-system/figma
   ```

2. Create `design-system/scripts/export-figma-tokens.js`:
   - Read all token files from tokens/
   - Transform to Figma Variables compatible structure
   - Figma Variables expect flat structure with variable names and values

   Structure for Figma Tokens Studio plugin:
   ```javascript
   // Transform W3C DTCG format to Figma-friendly format
   // Input: { "hydrophon": { "blau": { "500": { "$value": "#008bd2", "$type": "color" }}}}
   // Output: { "hydrophon-blau-500": { "value": "#008bd2", "type": "color" }}

   function flattenTokens(obj, prefix = '') {
     const result = {};
     for (const [key, value] of Object.entries(obj)) {
       const newKey = prefix ? `${prefix}-${key}` : key;
       if (value.$value !== undefined) {
         result[newKey] = {
           value: value.$value,
           type: value.$type || 'other',
           description: value.$description || ''
         };
       } else if (typeof value === 'object') {
         Object.assign(result, flattenTokens(value, newKey));
       }
     }
     return result;
   }
   ```

3. Group tokens by Figma collection type:
   - Colors (color type)
   - Typography (fontFamily, fontSize, fontWeight, lineHeight)
   - Spacing (dimension type for spacing)
   - Effects (borderRadius, shadow)

4. Write to `figma/tokens-for-figma.json`

5. Add npm script:
   ```json
   "scripts": {
     "build:figma": "node scripts/export-figma-tokens.js"
   }
   ```
  </action>
  <verify>
    - `design-system/scripts/export-figma-tokens.js` exists
    - `design-system/figma/tokens-for-figma.json` exists after running script
    - JSON file contains flattened token structure
    - package.json has build:figma script
  </verify>
  <done>Figma-compatible token export is generated</done>
</task>

<task type="auto">
  <name>Task 2: Create comprehensive Figma library setup documentation</name>
  <files>
    - design-system/docs/06-distribution/figma-library-setup.md
  </files>
  <action>
1. Create distribution docs directory:
   ```bash
   mkdir -p design-system/docs/06-distribution
   ```

2. Create `design-system/docs/06-distribution/figma-library-setup.md` in German with:

   **Header:** "# Figma Library Setup - Hydrophon Design System"

   **1. Voraussetzungen:**
   - Figma Professional oder Organization Plan (fuer Library Publishing)
   - Tokens Studio Plugin (ehemals Figma Tokens) fuer Variables Import
   - Zugriff auf tokens-for-figma.json

   **2. Figma-Datei erstellen:**
   - Neue Datei erstellen: "Hydrophon Design System Library"
   - Seiten-Struktur:
     - Cover (Titelseite mit Hydrophon Logo)
     - Colors (Farbdokumentation)
     - Typography (Schriftstile)
     - Icons (Icon-Bibliothek)
     - Components (alle UI-Komponenten)
     - Patterns (Layoutmuster)

   **3. Variables importieren:**
   - Plugins > Tokens Studio > Import
   - tokens-for-figma.json hochladen
   - Collections erstellen:
     - Colors: Alle hydrophon-*, gluy-*, neutral-*, color-* tokens
     - Typography: font-*, fontSize-*, fontWeight-*, lineHeight-*
     - Spacing: spacing-*
     - Effects: borderRadius-*, shadow-*
   - Modes definieren (falls Light/Dark-Theme gewuenscht)

   **4. Komponenten erstellen:**
   - Jede Komponente als Figma Component definieren
   - Auto Layout fuer responsive Verhalten
   - Varianten fuer Zustaende (hover, focus, disabled, error)
   - Token-Referenzen in Komponenten verwenden (nicht hardcoded)

   Komponenten-Checkliste:
   - [ ] Button (Primary, Secondary, Tertiary, Icon-only)
   - [ ] Input (Default, Hover, Focus, Error, Disabled)
   - [ ] Textarea
   - [ ] Select
   - [ ] Checkbox
   - [ ] Radio Button
   - [ ] Card (Product, Content)
   - [ ] Table (Header, Row, Zebra)
   - [ ] Modal (Small, Medium, Large)
   - [ ] Toast (Success, Error, Warning, Info)
   - [ ] Tooltip
   - [ ] Header
   - [ ] Footer
   - [ ] Breadcrumb
   - [ ] Navigation (Desktop, Mobile Drawer)

   **5. Library publizieren:**
   - Datei > Library veroeffentlichen
   - Beschreibung: "Hydrophon Design System v1.0.0"
   - Publish

   **6. Team-Zugriff einrichten:**
   - Fuer Teammitglieder: Assets > Libraries > "Hydrophon Design System" aktivieren
   - Fuer externe Agenturen:
     - Option A: Guest Seats (Organization Plan)
     - Option B: Figma Community File (oeffentlich, read-only)
     - Option C: .fig Datei Export zum Download

   **7. Wartung:**
   - Bei Token-Aenderungen: Tokens neu importieren, Komponenten aktualisieren
   - Library-Update publizieren
   - Changelog in Datei-Beschreibung dokumentieren
  </action>
  <verify>
    - File `design-system/docs/06-distribution/figma-library-setup.md` exists
    - Documentation covers: prerequisites, file structure, variable import, component creation, publishing, team access
    - Component checklist matches design system documentation
    - Content is in German
  </verify>
  <done>Comprehensive Figma library setup documentation is created</done>
</task>

<task type="auto">
  <name>Task 3: Create quick setup checklist and README</name>
  <files>
    - design-system/figma/FIGMA-SETUP.md
  </files>
  <action>
Create `design-system/figma/FIGMA-SETUP.md` in German with:

```markdown
# Figma Library - Quick Setup

Version: 1.0.0
Letzte Aktualisierung: [Datum]

## Schnellstart-Checkliste

### Phase 1: Vorbereitung (5 min)

- [ ] Figma Professional/Organization Account verifizieren
- [ ] Tokens Studio Plugin installieren (Plugins > Tokens Studio)
- [ ] tokens-for-figma.json aus diesem Ordner bereithalten

### Phase 2: Datei erstellen (10 min)

- [ ] Neue Figma-Datei: "Hydrophon Design System Library"
- [ ] Seiten anlegen: Cover, Colors, Typography, Icons, Components, Patterns
- [ ] Hydrophon Logo auf Cover-Seite platzieren

### Phase 3: Variables importieren (15 min)

- [ ] Tokens Studio oeffnen
- [ ] JSON-Import: tokens-for-figma.json
- [ ] Collection "Colors" erstellen
- [ ] Collection "Typography" erstellen
- [ ] Collection "Spacing" erstellen
- [ ] Collection "Effects" erstellen
- [ ] Alle Tokens den Collections zuweisen

### Phase 4: Basis-Komponenten (2-4 Stunden)

Prioritaet 1 (haeufigste Verwendung):
- [ ] Button (3 Varianten x 3 Groessen x 5 Zustaende)
- [ ] Input (1 Variante x 3 Groessen x 5 Zustaende)
- [ ] Card (2 Typen)

Prioritaet 2:
- [ ] Checkbox, Radio
- [ ] Select, Textarea
- [ ] Toast, Modal
- [ ] Table

Prioritaet 3:
- [ ] Header, Footer
- [ ] Breadcrumb
- [ ] Tooltip

### Phase 5: Publizieren (5 min)

- [ ] Datei > Library veroeffentlichen
- [ ] Beschreibung: "Hydrophon Design System v1.0.0"
- [ ] Publish bestaetigen

### Phase 6: Verteilen

Team-intern:
- [ ] Teammitglieder informieren
- [ ] Assets > Libraries > "Hydrophon Design System" aktivieren lassen

Externe Agenturen:
- [ ] Zugriffsmethode waehlen (Guest Seat / .fig Export)
- [ ] Zugangsdaten/Link kommunizieren

## Dateien in diesem Ordner

| Datei | Beschreibung |
|-------|--------------|
| tokens-for-figma.json | Token-Export fuer Figma Variables Import |
| FIGMA-SETUP.md | Diese Anleitung |

## Ausfuehrliche Dokumentation

Siehe: docs/06-distribution/figma-library-setup.md

## Support

Bei Fragen: design@hydrophon.de
```
  </action>
  <verify>
    - File `design-system/figma/FIGMA-SETUP.md` exists
    - Checklist is actionable with time estimates
    - Component priorities are clear
    - Links to detailed documentation
    - Content is in German
  </verify>
  <done>Quick setup checklist enables designers to start immediately</done>
</task>

</tasks>

<verification>
1. tokens-for-figma.json contains flattened token structure
2. figma-library-setup.md covers complete workflow
3. FIGMA-SETUP.md provides actionable checklist
4. All documentation is in German
5. Token export script is repeatable via npm run build:figma
</verification>

<success_criteria>
- Designer can follow FIGMA-SETUP.md checklist to create library
- tokens-for-figma.json imports successfully into Tokens Studio
- Documentation covers agency access patterns (Guest Seats, .fig export)
- Component structure in docs matches design system documentation
- DEL-06 requirement is satisfied via documentation (manual process documented)
</success_criteria>

<output>
After completion, create `.planning/phases/07-final-packaging-a-delivery/07-06-SUMMARY.md`
</output>
